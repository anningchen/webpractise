<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		#div1{
			border:10px solid green;
			margin:20px;
			width: 200px;
		}
		#div2{
			border:10px solid blue;
			position: relative;
			margin:20px;
			width: 200px;
		}
		#div3{
			border:10px solid red;
			margin:20px;
			width: 200px;
		}
		#div4{
			border:10px solid gray;
			margin:20px;
			width: 200px;
		}
		#div30,#h2{
			position: relative;
		}
	</style>
</head>
<body>
	<div id="div1">
		<div id="div11">其父元素没有定位</div>
	</div>
	<div id="div2">
		<div  id="div21">父元素有定位</div>
	</div>
	<div id="div30">
		<h2 id="h2">我是定位了的标题</h2>
		<div id="div3">
			<div  id="div31">父元素没有定位，但有一个已定位的前辈元素</div>
		</div>
	</div>
	<table>
		<tr>
			<td>
				<div id="div4">
					<div  id="div41">父元素没有定位，但外面有一个table</div>
				</div>
			</td>
			<td></td>
			<td></td>
		</tr>
	</table>

	<script>
	function getoffsetparent(node){
		var parent = node.offsetParent;
		console.log(parent.nodeName);
		console.log("parent id is "+parent.getAttribute("id"));
	}
	window.onload=(function(){
		var div1 = document.getElementById("div11");
		var div2 = document.getElementById("div21");
		var div3 = document.getElementById("div31");
		var div4 = document.getElementById("div41");
		getoffsetparent(div1);
		getoffsetparent(div2);
		getoffsetparent(div3);
		getoffsetparent(div4);
	});
	</script>
</body>
</html>